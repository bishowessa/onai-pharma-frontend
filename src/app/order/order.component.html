<div class="booking-container">
  <h1 class="booking-title">Place Your Order</h1>
  <p class="booking-subtitle">Choose your products, fill in the details, and place your order with ease.</p>

  <!-- Order Form -->
  <form [formGroup]="orderForm" class="booking-form" novalidate>
    <div class="form-row">
      <div class="form-group half-width">
        <label for="product">Product</label>
        <select id="product" class="form-control" formControlName="product" (change)="onProductChange($event)" required>
          <option value="" disabled>Select a product</option>
          <option *ngFor="let product of products" [value]="product._id">
            {{ product.name }} - ${{ product.price }}
          </option>
        </select>
      </div>

      <div class="form-group half-width">
        <label for="quantity">Quantity</label>
        <input
          type="number"
          id="quantity"
          class="form-control"
          formControlName="quantity"
          min="1"
          required
        />
      </div>
    </div>

    <!-- Button to add selected product to the order list -->
    <button
      type="button"
      class="btn btn-secondary"
      (click)="addProductToOrder(orderForm.controls['product'].value)"
    >
      Add to Order
    </button>

    <!-- User Information -->
    <div class="form-row">
      <div class="form-group half-width">
        <label for="name">Name</label>
        <input type="text" id="name" class="form-control" formControlName="name" required />
      </div>

      <div class="form-group half-width">
        <label for="phone">Phone</label>
        <input type="tel" id="phone" class="form-control" formControlName="phone" required />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group half-width">
        <label for="address">Address</label>
        <input type="text" id="address" class="form-control" formControlName="address" required />
      </div>

      <div class="form-group half-width">
        <label for="email">Email</label>
        <input type="email" id="email" class="form-control" formControlName="email" required />
      </div>
    </div>

    <!-- Selected Products and Total Price -->
    <div class="selected-products" *ngIf="selectedProducts.length > 0">
      <h3>Selected Products</h3>
      <ul>
        <li *ngFor="let product of selectedProducts">
          {{ product.name }} - EGP {{ product.price }} x {{ product.quantity }}
        </li>
      </ul>
    </div>

    <div class="total-price" *ngIf="totalPrice > 0">
      <h3>Total Price: {{ totalPrice }} EGP</h3>
    </div>

    <!-- Success/Error Messages -->
    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
    <div *ngIf="failMessage" class="alert alert-danger">{{ failMessage }}</div>

    <!-- Submit Button -->
    <button type="button" class="booking-btn" (click)="submitOrder()">Place Order</button>
  </form>
</div>
